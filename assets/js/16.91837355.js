(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{363:function(n,s,e){"use strict";e.r(s);var a=e(42),t=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"nginx使用域名设置虚拟主机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx使用域名设置虚拟主机"}},[n._v("#")]),n._v(" Nginx使用域名设置虚拟主机")]),n._v(" "),e("p",[n._v("在真实的上线环境中，一个网站是需要域名和公网IP才可以访问的。这也是比较真实的一节课，我们在实际工作中配置最多的就是设置这种虚拟主机。")]),n._v(" "),e("p",[n._v("如果你还没有域名，我希望你也能注册一个，你可以注册一个以你名字全拼的域名，这类域名资源还是比较丰富的。一年才几十元钱，这不仅仅是为了学习这篇课程，更重要是有一个域名会对你的职业发展有很多好处。比如你自己作的程序想展示给别人看，你自己要建立一个博客，或者是你要进行一个程序测试，这些都需要域名的支持。所以如果你是一名程序员，我强烈建议你能申请一个自己的域名。")]),n._v(" "),e("p",[n._v("我这里就使用自己的博客域名作例子了。")]),n._v(" "),e("p",[n._v("先要对域名进行解析，这样域名才能正确定位到你需要的IP上。 我这里新建了两个解析，分别是:")]),n._v(" "),e("p",[n._v("nginx.xxx.com :这个域名映射到默认的Nginx首页位置。\nnginx2.xxx.com : 这个域名映射到原来的8001端口的位置。")]),n._v(" "),e("h2",{attrs:{id:"配置以域名为划分的虚拟主机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置以域名为划分的虚拟主机"}},[n._v("#")]),n._v(" 配置以域名为划分的虚拟主机")]),n._v(" "),e("p",[n._v("我们修改etc/nginx/conf.d目录下的default.conf 文件，把原来的80端口虚拟主机改为以域名划分的虚拟主机。代码如下：")]),n._v(" "),e("div",{staticClass:"language-() line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("server {\n  listen       80;\n  server_name  nginx.jspang.com;\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br")])]),e("p",[n._v("我们再把同目录下的8001.conf文件进行修改，改成如下：")]),n._v(" "),e("div",{staticClass:"language-() line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("server{\n  listen 80;\n  server_name nginx2.jspang.com;\n  location / {\n    root /usr/share/nginx/html/html8001;\n    index index.html index.htm;\n  }\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br")])]),e("p",[n._v("然后我们用平滑重启的方式，进行重启，这时候我们在浏览器中访问这两个网页。")]),n._v(" "),e("p",[n._v("其实域名设置虚拟主机也非常简单，主要操作的是配置文件的server_name项，还需要域名解析的配合。")])])}),[],!1,null,null,null);s.default=t.exports}}]);