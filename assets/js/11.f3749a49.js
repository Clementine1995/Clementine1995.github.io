(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{359:function(n,s,a){"use strict";a.r(s);var e=a(42),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"nginx基本配置文件详讲"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx基本配置文件详讲"}},[n._v("#")]),n._v(" Nginx基本配置文件详讲")]),n._v(" "),a("h2",{attrs:{id:"查看nginx的安装目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看nginx的安装目录"}},[n._v("#")]),n._v(" 查看Nginx的安装目录")]),n._v(" "),a("p",[n._v("在使用yum安装完Nginx后，需要知道系统中多了那些文件，它们都安装到了那里。可以使用下面的命令进行查看："),a("code",[n._v("rpm -ql nginx")])]),n._v(" "),a("p",[n._v("rpm 是linux的rpm包管理工具，-q 代表询问模式，-l 代表返回列表，这样我们就可以找到nginx的所有安装位置了。")]),n._v(" "),a("h2",{attrs:{id:"nginx-conf文件解读"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-conf文件解读"}},[n._v("#")]),n._v(" nginx.conf文件解读")]),n._v(" "),a("p",[n._v("nginx.conf 文件是Nginx总配置文件（在etc文件夹下），在我们搭建服务器时经常调整的文件。")]),n._v(" "),a("p",[n._v("进入etc/nginx目录下，然后用vim进行打开")]),n._v(" "),a("div",{staticClass:"language-(vim) line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /etc/nginx\nvim nginx.conf\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br")])]),a("p",[n._v("下面是文件的详细注释，几乎每一句都进行了注释，你可以根据你的需要来进行配置。")]),n._v(" "),a("div",{staticClass:"language-(vim) line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('#运行用户，默认即是nginx，可以不进行设置\nuser  nginx;\n#Nginx进程，一般设置为和CPU核数一样\nworker_processes  1;\n#错误日志存放目录\nerror_log  /var/log/nginx/error.log warn;\n#进程pid存放位置\npid        /var/run/nginx.pid;\nevents {\n  worker_connections  1024; # 单个后台进程的最大并发数\n}\nhttp {\n  include       /etc/nginx/mime.types;   #文件扩展名与类型映射表\n  default_type  application/octet-stream;  #默认文件类型\n  #设置日志模式\n  log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n                    \'$status $body_bytes_sent "$http_referer" \'\n                    \'"$http_user_agent" "$http_x_forwarded_for"\';\n  access_log  /var/log/nginx/access.log  main;   #nginx访问日志存放位置\n  sendfile        on;   #开启高效传输模式\n  #tcp_nopush     on;    #减少网络报文段的数量\n  keepalive_timeout  65;  #保持连接的时间，也叫超时时间\n  #gzip  on;  #开启gzip压缩\n  include /etc/nginx/conf.d/*.conf; #包含的子配置项位置和文件\n}\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br")])]),a("h2",{attrs:{id:"default-conf-配置项讲解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default-conf-配置项讲解"}},[n._v("#")]),n._v(" default.conf 配置项讲解")]),n._v(" "),a("p",[n._v("我们看到最后有一个子文件的配置项，那我们打开这个include子文件配置项看一下里边都有些什么内容。")]),n._v(" "),a("p",[n._v("进入conf.d目录，然后使用vim default.conf进行查看。")]),n._v(" "),a("div",{staticClass:"language-(vim) line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("server {\n  listen       80;   #配置监听端口\n  server_name  localhost;  //配置域名\n  #charset koi8-r;\n  #access_log  /var/log/nginx/host.access.log  main;\n  location / {\n      root   /usr/share/nginx/html;     #服务默认启动目录\n      index  index.html index.htm;    #默认访问文件\n  }\n  #error_page  404              /404.html;   # 配置404页面\n  # redirect server error pages to the static page /50x.html\n  #\n  error_page   500 502 503 504  /50x.html;   #错误状态码的显示页面，配置后需要重启\n  location = /50x.html {\n      root   /usr/share/nginx/html;\n  }\n  # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n  #\n  #location ~ \\.php$ {\n  #    proxy_pass   http://127.0.0.1;\n  #}\n  # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n  #\n  #location ~ \\.php$ {\n  #    root           html;\n  #    fastcgi_pass   127.0.0.1:9000;\n  #    fastcgi_index  index.php;\n  #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n  #    include        fastcgi_params;\n  #}\n  # deny access to .htaccess files, if Apache's document root\n  # concurs with nginx's one\n  #\n  #location ~ /\\.ht {\n  #    deny  all;\n  #}\n}\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br")])]),a("p",[n._v("明白了这些配置项，我们知道我们的服务目录放在了/usr/share/nginx/html下，可以使用命令进入看一下目录下的文件。")]),n._v(" "),a("div",{staticClass:"language-() line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("cd /usr/share/nginx/html\nls\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br")])]),a("p",[n._v("可以看到目录下面有两个文件，50x.html 和 index.html。我们可以使用vim进行编辑。")]),n._v(" "),a("h2",{attrs:{id:"阿里云的安全组配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云的安全组配置"}},[n._v("#")]),n._v(" 阿里云的安全组配置")]),n._v(" "),a("p",[n._v("如果你使用的是阿里云，记得到ECS实例一下打开端口。")]),n._v(" "),a("p",[n._v("步骤如下：")]),n._v(" "),a("p",[n._v("1.进入阿里云控制台，并找到ECS实例。\n2.点击实例后边的“更多”\n3.点击“网络和安全组” ，再点击“安全组配置”\n4.右上角添加“安全组配置”\n5.进行80端口的设置，协议类型选择HTTP(80)，授权类型为地址段访问，授权对象配置为0.0.0.0/0")]),n._v(" "),a("p",[n._v("到这里我们就可以浏览到程序的页面了。")])])}),[],!1,null,null,null);s.default=t.exports}}]);