(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{358:function(a,s,t){"use strict";t.r(s);var e=t(42),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"自定义错误页和访问设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义错误页和访问设置"}},[a._v("#")]),a._v(" 自定义错误页和访问设置")]),a._v(" "),t("h2",{attrs:{id:"多错误指向一个页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多错误指向一个页面"}},[a._v("#")]),a._v(" 多错误指向一个页面")]),a._v(" "),t("p",[a._v("在/etc/nginx/conf.d/default.conf 是可以看到下面这句话的。")]),a._v(" "),t("div",{staticClass:"language-() line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("error_page   500 502 503 504  /50x.html;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("error_page指令用于自定义错误页面，500，502，503，504 这些就是HTTP中最常见的错误代码，/50.html 用于表示当发生上述指定的任意一个错误的时候，都是用网站根目录下的/50.html文件进行处理。")]),a._v(" "),t("h2",{attrs:{id:"单独为错误置顶处理方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单独为错误置顶处理方式"}},[a._v("#")]),a._v(" 单独为错误置顶处理方式")]),a._v(" "),t("p",[a._v("有些时候是要把这些错误页面单独的表现出来，给用户更好的体验。所以就要为每个错误码设置不同的页面。设置方法如下：")]),a._v(" "),t("div",{staticClass:"language-() line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("error_page 404  /404_error.html;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("然后到网站目录下新建一个404_error.html 文件，并写入一些信息。")]),a._v(" "),t("div",{staticClass:"language-(html) line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('<html>\n<meta charset="UTF-8">\n<body>\n<h1>404页面没有找到!</h1>\n</body>\n</html>\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[a._v("然后重启我们的服务，再进行访问，你会发现404页面发生了变化。")]),a._v(" "),t("h2",{attrs:{id:"把错误码换成一个地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#把错误码换成一个地址"}},[a._v("#")]),a._v(" 把错误码换成一个地址")]),a._v(" "),t("p",[a._v("处理错误的时候，不仅可以只使用本服务器的资源，还可以使用外部的资源。比如我们将配置文件设置成这样。")]),a._v(" "),t("div",{staticClass:"language-() line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("error_page  404 https://www.baidu.com;\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"简单实现访问控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单实现访问控制"}},[a._v("#")]),a._v(" 简单实现访问控制")]),a._v(" "),t("p",[a._v("有时候我们的服务器只允许特定主机访问，比如内部OA系统，或者应用的管理后台系统，更或者是某些应用接口，这时候我们就需要控制一些IP访问，我们可以直接在location里进行配置。")]),a._v(" "),t("p",[a._v("可以直接在default.conf里进行配置。")]),a._v(" "),t("div",{staticClass:"language-() line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("location / {\n    deny   123.9.51.42/200; (表示42到200端口都不可以访问，也可以填all，表示所有都不可以访问)\n    allow  45.76.202.231;\n}\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("p",[a._v("配置完成后，重启一下服务器就可以实现限制和允许访问了。")])])}),[],!1,null,null,null);s.default=r.exports}}]);